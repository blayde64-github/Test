<archimate:Assessment
    xmlns:archimate="http://www.archimatetool.com/archimate"
    name="Inconsistent Permission Handling in Power Apps"
    id="id-1e5a34347e3b46f9a70902ba3b83fe61"
    documentation="Power Automate flows, when triggered by a Power App, may encounter access issues or invalid connection errors due to inherited app permissions, especially in multi-user scenarios if there are several people working on the same power automate flow.&#xD;&#xA;&#xD;&#xA;We are not 100% sure of this vulnerability's correctness. See explanation below.&#xD;&#xA;&#xD;&#xA;Background&#xD;&#xA;Mattias Dahlberg created a Power App, Level 2 Security Architecture Review, containing a button which trigger a Power Automate Flow, Power Generate SAR2 Review.&#xD;&#xA;Owen Richardson, set to owner of the flow, edited the flow.&#xD;&#xA;&#xD;&#xA;Later, the flow stopped working, which as a consequence resulted in an error in the Power App.&#xD;&#xA;The error said &quot;You are missing permissions to one or more connections inside the flow. Have the flow owner share the connections with you.&quot;&#xD;&#xA;&#xD;&#xA;When Mattias tested and tried to correct the flow, he noticed that the Outlook step, which sends an email to the submitter, couldn't be opened and was forced to set the account to use for the step.&#xD;&#xA;Mattias selected his account and the flow then started to work.&#xD;&#xA;Even though the flow was corrected and is now fully functioning, it's still impossible to import the flow in the Power App.&#xD;&#xA;It seems like the permissions are somehow corrupt.&#xD;&#xA;&#xD;&#xA;Mattias created a new flow which is a copy of the previous flow, which was possible to import into the Power App.&#xD;&#xA;&#xD;&#xA;We don't have the time nor the energy to further test this at the moment, so we're not 100% sure of the root cause.">
  <profiles
      href="folder.xml#id-c65a7771d0254328b1e638eed28d1595"/>
</archimate:Assessment>
